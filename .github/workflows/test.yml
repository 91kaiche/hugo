on: [push, pull_request]
name: Test
jobs:
  test:
    env:
      GOPROXY: https://proxy.golang.org
      HUGO_BUILD_TAGS: extended
      GO111MODULE: on
      HUGO_TIMEOUT: 31000 
    strategy:
      matrix:
        go-version: [1.15.x]
        os: [ubuntu-latest, macos-latest, windows-latest]
    runs-on: ${{ matrix.os }}
    steps:
    - uses: actions/setup-python@v2
      with:
        python-version: '3.x'
    - run: pip install docutils
    - run: rst2html.py --version
    - if: matrix.os == 'ubuntu-latest'
      run: |
        sudo apt-get update -y
        sudo apt-get install -y pandoc
    - if: matrix.os == 'macos-latest'
      run: |
        brew install pandoc
    - if: matrix.os == 'windows-latest'
      run: |
        choco install pandoc
    - run: pandoc -v
  